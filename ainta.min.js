/**
 * https://www.npmjs.com/package/@0bdx/ainta
 * @version 0.0.19
 * @license Copyright (c) 2023 0bdx <0@0bdx.com> (0bdx.com)
 * SPDX-License-Identifier: MIT
 */
const t="array",e="bigint",n="boolean",o="function",i="null",r="number",f="object",s="string",l="symbol",c="undefined",u="gte",a="is",p="key",y="least",g="lte",b="max",h="min",d="mod",m="most",k="open",v="pass",j="rx",x="type",A="types",O="an ",$=O+t,w="a class",N="a dictionary",R=O+f,E=a+" ",z="one",I=" not ",U=" of ",q=" `options.",B=q+a+"` ",C="the"+q+A+"` ",D="cannot be validated,"+q,F=x+" ",G=E+$,H=E+i,J=E+"the special `NaN` value",K=E+F,L=a+I,M=" "+L,P=L+"in",Q=M+"in",S=I+O+t,T=L+O+t,V=I+"a regular ",W=I+F,X={}
function Y(t,e,n=X){let o=jt(t,e,{...n,type:r})
if(o)return o
const i=n.gte,f=void 0!==i,s=n.is,l=void 0!==s,c=n.lte,p=void 0!==c,y=n.mod,b=void 0!==y
return o=mt(u,i,f)||ht(a,s,l,[r])||mt(g,c,p)||mt(d,y,b,!0)||(f&&p&&i>c?D+"gte` > `options.lte`":isNaN(t)?J+V+r:l&&-1==s.indexOf(t)?P+B+at(s.join(":")):f&&i>t?t+M+u+" "+i:p&&c<t?t+M+g+" "+c:b&&t%y?t+" is not divisible by "+y:""),
!!o&&tt(n.begin,e)+o}function Z(t,e,n=X){let i=null===t?H+V+f:nt(t)?G+V+f:typeof t!==f?K+it(typeof t)+I+lt:""
if(i)return tt(n.begin,e)+i
const r=n.is,s=void 0!==r,l=n.open,c=void 0!==l,u=n.schema,p=void 0!==u
return i=ht(a,r,s,[f,o])||dt(k,l,c)||vt(u,p)||(s&&!et(r,t)?P+B+pt(r):""),i?tt(n.begin,e,"An object ")+i:gt(t,n,p,R,e)}
function _(t,e,n=X){let i=jt(t,e,{...n,type:s})
if(i)return i
const r=n.is,f=void 0!==r,l=n.max,c=void 0!==l,u=n.min,p=void 0!==u,y=n.rx,g=void 0!==y
return i=ht(a,r,f,[s])||mt(b,l,c,!1,!0)||mt(h,u,p,!1,!0)||kt(j,y,g)||(c&&p&&l<u?D+b+"` <"+q+h+"`":f&&-1==r.indexOf(t)?at(t)+Q+B+at(r.join(":")):c&&l<t.length?at(t)+M+b+" "+l:p&&u>t.length?at(t)+M+h+" "+u:g&&!y.test(t)?at(t)+" fails "+(y instanceof RegExp?y:"custom test "+o):""),
!!i&&tt(n.begin,e)+i}const tt=(t,e,n)=>(t?t+": ":"")+(e?`\`${e}\` `:n||"A value "),et=(t,e)=>{
for(let n=0,i=t.length;n<i;n++){const i=t[n]
if(e===i||typeof i===o&&e instanceof i)return!0}return!1
},nt=Array.isArray,ot=t=>!nt(t)&&-1!==[e,n,o,r,f,s,l,c].indexOf(t),it=t=>"'"+(Array.isArray(t)?t.join(":"):t)+"'",rt=it(n),ft=it(r),st=it(o),lt=it(f),ct=it(s),ut=t=>{
const e=nt(t)?t.join(":"):t
return encodeURI(e.length<=32?e:`${e.slice(0,21)}...${e.slice(-8)}`).replace(/%20/g," ")
},at=t=>it(ut(t)),pt=t=>at(t.map((t=>null===t?i:void 0===t?c:typeof t===o?t.name:typeof t===f?t.constructor.name:t)).join(":")),yt=t=>it(t.map((t=>nt(t)?`[${t.join(":")}]`:t)).join(":")),gt=(t,e,n,o,r)=>{
const{begin:f,open:s,schema:l}=e
let u
if(n)for(const n in l){const{types:f}=l[n],s=t[n],a=typeof s,p=f&&f.filter(nt)
if(f&&f.length)if(p.length&&nt(s)){for(const t of p)if(0===t.length)continue
const t=s.length
let c,a=0,y=!1
t:for(const e of p){for(a=0;a<t;a++){c=s[a]
let t=!1
for(let n=0,o=e.length;n<o;n++)if(typeof c===e[n]){t=!0
break}if(!t)continue t}y=!0
break t}if(!y){const t=typeof c
u=[`${n}[${a}]`,E+(null===c?i:nt(c)?$:F+it(t))+","+I+(1===p.length?C:z+U+C)+yt(f)]
break}const g=r?r+"."+n:n+U+o
for(let o=0;o<t;o++){const t=s[o],i={number:Y,object:Z,string:_}[typeof t]
if(i){const r=i(t,`${g}[${o}]`,{begin:e.begin,...l[n]})
if(r)return r}}}else{if(-1===f.indexOf(a)){u=[n,E+(null===s?i:nt(s)?$:F+it(a))+","+I+(1===f.length?C:z+U+C)+yt(f)]
break}{const t={function:xt,number:Y,object:Z,string:_}[a]
if(t){const i=t(s,r?r+"."+n:n+U+o,{begin:e.begin,...l[n]})
if(i)return i}}}else if(a===c){u=[n,E+"missing"]
break}}if(!s)for(const e in t)if(!l||!l[e]){u=[e,"is unexpected"]
break}return!!u&&tt(f,r&&r+"."+u[0],"`"+u[0]+U+o+"` ")+u[1]},bt=(t,e,n)=>{if(n){
const n=null===e?H+S:nt(e)?"":K+it(typeof e)+S
if(n)return D+t+"` "+n
for(let n=0,o=e.length;n<o;n++){
const o=e[n],i=null===o?H+W+ct:nt(o)?G+W+ct:typeof o!==s?K+it(typeof o)+I+ct:ot(o)?"":at(o)+I+"known"
if(i)return D+t+"["+n+"]` "+i}}},ht=(t,e,n,o)=>{if(n){const n=null===e?H+S:nt(e)?e.length?"":"is empty":K+it(typeof e)+S
if(n)return D+t+"` "+n
const i=o.length
if(!i)return
let r=!1
if(1===i)for(let t=0,n=e.length;t<n;t++){if(typeof e[t]===o[0]){r=!0
break}}else t:for(let t=0,n=e.length;t<n;t++){const n=typeof e[t]
for(let t=0;t<i;t++)if(n===o[t]){r=!0
break t}}if(!r)return D+t+"` contains nothing of type '"+o.join("' or '")+"'"}},dt=(t,e,o)=>{if(o){
const o=null===e?H+W+rt:nt(e)?G+W+rt:typeof e!==n?K+it(typeof e)+I+rt:""
if(o)return D+t+"` "+o}},mt=(t,e,n,o,i)=>{if(n){
const n=null===e?H+W+ft:nt(e)?G+W+ft:typeof e!==r?K+it(typeof e)+I+ft:isNaN(e)?J:o&&!e?"is zero":i&&e<0?"is negative":""
if(n)return D+t+"` "+n}},kt=(t,e,n)=>{if(n){let n=null===e?H+W+lt:nt(e)?G+W+lt:typeof e!==f?K+it(typeof e)+I+lt:""
if(n)return D+t+"` "+n
const i=e.test
if(n=null===i?H+W+st:nt(i)?G+W+st:typeof i!==o?K+it(typeof i)+I+st:"",n)return D+t+".test` "+n}},vt=(t,e)=>{if(e){
let e=null===t?H+W+lt:nt(t)?G+W+lt:typeof t!==f?K+it(typeof t)+I+lt:""
if(e)return D+"schema` "+e
for(const n in t){const o=t[n]
if(e=null===o?"` "+H+W+lt:nt(o)?"` "+G+W+lt:typeof o!==f?"` "+K+it(typeof o)+I+lt:"",!e)t:for(const t in o){const n=o[t]
if(t===A)if(e=null===n?"."+A+"` "+H+I+$:nt(n)?"":"."+A+"` "+K+it(typeof n)+I+$,!e)for(let o=0,i=n.length;o<i;o++){
const i=n[o]
if(nt(i))for(let n=0,r=i.length;n<r;n++){const r=i[n]
if(e=null===r?H+W+ct:nt(r)?G+W+ct:typeof r!==s?K+it(typeof r)+I+ct:ot(r)?"":at(r)+I+"known",e){
e="."+t+"["+o+"]["+n+"]` "+e
break t}}else if(e=null===i?H+W+ct:typeof i!==s?K+it(typeof i)+I+ct:ot(i)?"":at(i)+I+"known",e){e="."+t+"["+o+"]` "+e
break t}}}if(e)return D+"schema."+n+e}}}
function jt(t,e,n=X){const o=n.type,i=typeof t
if(i===o)return!1
const r=tt(n.begin,e),f=x in n,l=f&&nt(o)
if(f&&l){const t=bt(x,o,!0)
if(t)return r+t}else{const t=f?null===o?H+W+ct:typeof o!==s?K+it(typeof o)+I+ct:ot(o)?"":it(ut(o))+I+"known":L+"set"
if(t)return r+D+x+"` "+t}if(!l)return r+(null===t?H+W:nt(t)?G+W:K+it(i)+I)+it(o)
if(!nt(t))return r+T
const c=o.length,u=t.length
if(!c)return!1
for(let i=0;i<u;i++){const r=t[i]
let f=!1
for(let t=0;t<c;t++)if(typeof r===o[t]){f=!0
break}if(!f){const t="["+i+"]"
return tt(n.begin,e&&e+t,"`"+t+U+$+"` ")+(null===r?H+W:nt(r)?G+W:K+it(typeof r)+I)+it(o.join(":"))}}return!1}
function xt(t,e,n=X){let i=jt(t,e,{...n,type:o})
if(i)return i
const r=n.open,f=void 0!==r,s=n.schema,l=void 0!==s
return i=dt(k,r,f)||vt(s,l),i?tt(n.begin,e,"A class ")+i:gt(t,n,l,w,e)}function At(t,e,n=X){
if(!nt(t))return tt(n.begin,e)+(null===t?H:K+it(typeof t))+S
const l=t.length,c=n.is,u=void 0!==c,p=n.least,g=void 0!==p,b=n.most,h=void 0!==b,d=n.pass,k=void 0!==d,j=n.types,x=void 0!==j,O=ht(a,c,u,[])||mt(y,p,g,!1,!0)||mt(m,b,h,!1,!0)||dt(v,d,k)||bt(A,j,x)||(g&&h&&p>b?D+"least` > `options.most`":g&&p>l?"has length "+l+" < `options."+y+"` "+p:h&&b<l?"has length "+l+" > `options."+m+"` "+b:"")
return O?tt(n.begin,e,"An array ")+O:function(t,e,n,l,c,u){const{begin:a,is:p,pass:y,types:g}=n,b=c&&g.length
for(let c=0;c<e;c++){const e=t[c],h=typeof e,d="["+c+"]"
if(!l||!et(p,e)){if(l&&!b)return tt(a,u&&u+d,"`"+d+U+$+"` ")+P+B+pt(p)
if(b&&-1===g.indexOf(h))return tt(a,u&&u+d,"`"+d+U+$+"` ")+E+(null===e?i:nt(e)?$:F+it(h))+","+I+(1===g.length?C+it(g[0]):z+U+C+at(g.join(":")))
if(b&&h===f){const t=null===e?i:nt(e)?$:""
if(t)return tt(a,u&&u+d,"`"+d+U+$+"` ")+E+t+","+V+f}if(y){const t=u?u+"["+c+"]":d+U+$
let i
switch(h){case o:if(i=xt(e,t,n),i)return i
break
case r:if(i=Y(e,t,n),i)return i
break
case f:if(null===e)break
if(Array.isArray(e))break
if(i=Z(e,t,n),i)return i
break
case s:if(i=_(e,t,n),i)return i}}}}return!1}(t,l,n,u,x,e)}function Ot(t,e,o=X){let i=jt(t,e,{...o,type:n})
if(i)return i
const r=o.is,f=void 0!==r
return i=ht(a,r,f,[n])||(f&&-1==r.indexOf(t)?P+B+at(r.join(":")):""),!!i&&tt(o.begin,e)+i}function $t(t,e,n=X){
let l=null===t?H+V+f:nt(t)?G+V+f:typeof t!==f?K+it(typeof t)+I+lt:""
if(l)return tt(n.begin,e)+l
const c=Object.entries(t),u=c.length,a=n.key,g=void 0!==a,b=n.least,h=void 0!==b,d=n.most,k=void 0!==d,j=n.pass,x=void 0!==j,O=n.types,w=void 0!==O
return l=kt(p,a,g)||mt(y,b,h,!1,!0)||mt(m,d,k,!1,!0)||dt(v,j,x)||bt(A,O,w)||(h&&k&&b>d?D+"least` > `options.most`":h&&b>u?"has length "+u+" < `options."+y+"` "+b:k&&d<u?"has length "+u+" > `options."+m+"` "+d:""),
l?tt(n.begin,e,"A dictionary ")+l:function(t,e,n,l,c,u){const{begin:a,key:p,pass:y,types:g}=n,b=c&&g.length
for(let c=0;c<e;c++){const[e,h]=t[c],d=typeof h
if(l&&!p.test(e)){const t=ut(e)
return tt(a,u&&u+"."+t,"`"+t+U+N+"` ")+"fails "+(p instanceof RegExp?p:"custom test "+o)}
if(b&&-1===g.indexOf(d))return tt(a,u&&u+"."+e,"`"+e+U+N+"` ")+E+(null===h?i:nt(h)?$:F+it(d))+","+I+(1===g.length?C+it(g[0]):z+U+C+at(g.join(":")))
if(y){const t=u?u+"."+e:e+U+N
let i
switch(d){case o:if(i=xt(h,t,n),i)return i
break
case r:if(i=Y(h,t,n),i)return i
break
case f:if(null===h)break
if(Array.isArray(h))break
if(i=Z(h,t,n),i)return i
break
case s:if(i=_(h,t,n),i)return i}}}return!1}(c,u,n,g,w,e)}function wt(t,e,n=X){
return null!==t&&tt(n.begin,e)+(nt(t)?G:K+it(typeof t))+I+i}function Nt(t=X,...e){const n=[]
return[n,...e.map((e=>nt(e)?1===e.length?Rt(t,e[0],n):Et(t,e,n):Rt(t,e,n)))]}const Rt=(t,e,n)=>(o,i,r)=>{const f=e(o,i,{
...t,...r})
return f&&n.push(f),f},Et=(t,e,n)=>(o,i,r)=>{const f=[]
for(const n of e){const e=n(o,i,{...t,...r})
if(!e)return!1
f.push(e)}let s=0
const l=f.length
t:for(;;){const t=f[0][s]
if(!t)break t
for(let e=1;e<l;e++)if(f[e][s]!==t)break t
s++}s=s>=2&&" '"===f[0].slice(s-2,s)?s-2:s
const c=f[0]+"; or "+f.slice(1).map((t=>t.slice(s).trim())).join("; or ")
return n.push(c),c}
export{At as aintaArray,Ot as aintaBoolean,$t as aintaDictionary,xt as aintaFunction,wt as aintaNull,Y as aintaNumber,Z as aintaObject,_ as aintaString,jt as aintaType,Nt as default}
