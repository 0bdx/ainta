/**
 * https://www.npmjs.com/package/@0bdx/ainta
 * @version 0.0.12
 * @license Copyright (c) 2023 0bdx <0@0bdx.com> (0bdx.com)
 * SPDX-License-Identifier: MIT
 */
const t="array",n="bigint",e="boolean",o="function",i="null",s="number",r="object",f="string",l="symbol",u="undefined",c="enum",a="gte",p="key",y="least",g="lte",b="max",d="min",h="mod",m="most",v="open",k="pass",x="rx",A="type",j="types",N="an ",O=N+t,w="a dictionary",$=N+r,R="is ",E=" not ",z=" of ",I=" `options.",U="cannot be validated,"+I,q=A+" ",B=R+O,C=R+i,D=R+"the special `NaN` value",F=R+q,G=" is"+E,H=E+N+t,J=E+"a regular ",K=E+q,L=(t,n,e)=>(t?t+": ":"")+(n?`\`${n}\` `:e||"A value "),M=Array.isArray,P=t=>-1!==[n,e,o,s,r,f,l,u].indexOf(t),Q=t=>"'"+t+"'",S=Q(e),T=Q(s),V=Q(o),W=Q(r),X=Q(f),Y=t=>encodeURI(t.length<=32?t:`${t.slice(0,21)}...${t.slice(-8)}`).replace(/%20/g," "),Z=t=>Q(Y(t)),_=(t,n,e,o)=>{
if(e){const e=null===n?C+H:M(n)?o||n.length?"":"is empty":F+Q(typeof n)+H
if(e)return U+t+"` "+e
for(let e=0,i=n.length;e<i;e++){
const i=n[e],s=null===i?C+K+X:M(i)?B+K+X:typeof i!==f?F+Q(typeof i)+E+X:o&&!P(i)?Z(i)+E+"known":""
if(s)return U+t+"["+e+"]` "+s}}},tt=(t,n,o)=>{if(o){const o=null===n?C+K+S:M(n)?B+K+S:typeof n!==e?F+Q(typeof n)+E+S:""
if(o)return U+t+"` "+o}},nt=(t,n,e,o,i)=>{if(e){
const e=null===n?C+K+T:M(n)?B+K+T:typeof n!==s?F+Q(typeof n)+E+T:isNaN(n)?D:o&&!n?"is zero":i&&n<0?"is negative":""
if(e)return U+t+"` "+e}},et=(t,n,e)=>{if(e){let e=null===n?C+K+W:M(n)?B+K+W:typeof n!==r?F+Q(typeof n)+E+W:""
if(e)return U+t+"` "+e
const i=n.test
if(e=null===i?C+K+V:M(i)?B+K+V:typeof i!==o?F+Q(typeof i)+E+V:"",e)return U+t+".test` "+e}},ot=(t,n)=>{if(n){
let n=null===t?C+K+W:M(t)?B+K+W:typeof t!==r?F+Q(typeof t)+E+W:""
if(n)return U+"schema` "+n
for(const e in t){const o=t[e]
if(n=null===o?"` "+C+K+W:M(o)?"` "+B+K+W:typeof o!==r?"` "+F+Q(typeof o)+E+W:"",!n)t:for(const t in o){const e=o[t]
if(t===j)if(n=null===e?"."+j+"` "+C+E+O:M(e)?"":"."+j+"` "+F+Q(typeof e)+E+O,!n)for(let o=0,i=e.length;o<i;o++){
const i=e[o]
if(n=null===i?C+K+X:M(i)?B+K+X:typeof i!==f?F+Q(typeof i)+E+X:P(i)?"":Z(i)+E+"known",n){n="."+t+"["+o+"]` "+n
break t}}}if(n)return U+"schema."+e+n}}},it={}
function st(t,n,e=it){const o=typeof t
if(o===e.type)return!1
const i=L(e.begin,n),s=i+U+A+"` "
if(!(A in e))return`${s}is${E}set`
const r=e.type
return null===r?s+C+K+X:M(r)?s+B+K+X:typeof r!==f?s+F+Q(typeof r)+E+X:P(r)?i+(null===t?C+K:M(t)?B+K:F+Q(o)+E)+Q(r):s+Q(Y(r))+E+"known"
}function rt(t,n,e=it){let o=st(t,n,{...e,type:s})
if(o)return o
const i=e.gte,r=void 0!==i,f=e.lte,l=void 0!==f,u=e.mod,c=void 0!==u
return o=nt(a,i,r)||nt(g,f,l)||nt(h,u,c,!0)||(r&&l&&i>f?U+"gte` > `options.lte`":isNaN(t)?D+J+s:r&&i>t?t+G+a+" "+i:l&&f<t?t+G+g+" "+f:c&&t%u?t+" is not divisible by "+u:""),
!!o&&L(e.begin,n)+o}function ft(t,n,e=it){let i=st(t,n,{...e,type:f})
if(i)return i
const s=e.enum,r=void 0!==s,l=e.max,u=void 0!==l,a=e.min,p=void 0!==a,y=e.rx,g=void 0!==y
return i=_(c,s,r)||nt(b,l,u,!1,!0)||nt(d,a,p,!1,!0)||et(x,y,g)||(u&&p&&l<a?U+"max` < `options.min`":r&&-1==s.indexOf(t)?Z(t)+" is not in "+Z(s.join(":")):u&&l<t.length?Z(t)+G+b+" "+l:p&&a>t.length?Z(t)+G+d+" "+a:g&&!y.test(t)?Z(t)+" fails "+(y instanceof RegExp?y:"custom test "+o):""),
!!i&&L(e.begin,n)+i}function lt(t,n,e=it){let o=null===t?C+J+r:M(t)?B+J+r:typeof t!==r?F+Q(typeof t)+E+W:""
if(o)return L(e.begin,n)+o
const s=e.open,f=void 0!==s,l=e.schema,c=void 0!==l
return o=tt(v,s,f)||ot(l,c),o?L(e.begin,n,"An object ")+o:function(t,n,e,o){const{begin:s,open:r,schema:f}=n
let l
if(e)for(const e in f){const{types:s}=f[e],r=t[e],c=typeof r
if(s&&s.length){if(-1===s.indexOf(c)){const t="the"+I+j+"` "
l=[e,R+(null===r?i:M(r)?O:q+Q(c))+","+E+(1===s.length?t+Q(s[0]):"one"+z+t+Z(s.join(":")))]
break}{const t={number:rt,string:ft}[c]
if(t){const i=t(r,o?o+"."+e:e+z+$,{begin:n.begin,...f[e]})
if(i)return i}}}else if(c===u){l=[e,R+"missing"]
break}}if(!r)for(const n in t)if(!f||!f[n]){l=[n,"is unexpected"]
break}return!!l&&L(s,o&&o+"."+l[0],"`"+l[0]+z+$+"` ")+l[1]}(t,e,c,n)}function ut(t,n,e=it){
if(!M(t))return L(e.begin,n)+(null===t?C:F+Q(typeof t))+H
const o=t.length,l=e.least,u=void 0!==l,c=e.most,a=void 0!==c,p=e.pass,g=void 0!==p,b=e.types,d=void 0!==b,h=nt(y,l,u,!1,!0)||nt(m,c,a,!1,!0)||tt(k,p,g)||_(j,b,d,!0)||(u&&a&&l>c?U+"least` > `options.most`":u&&l>o?"has length "+o+" < `options."+y+"` "+l:a&&c<o?"has length "+o+" > `options."+m+"` "+c:"")
return h?L(e.begin,n,"An array ")+h:function(t,n,e,o,l){const{begin:u,pass:c,types:a}=e,p=o&&a.length
for(let o=0;o<n;o++){const n=t[o],y=typeof n,g="["+o+"]"
if(p&&-1===a.indexOf(y)){const t="the"+I+j+"` "
return L(u,l&&l+g,"`"+g+z+O+"` ")+R+(null===n?i:M(n)?O:q+Q(y))+","+E+(1===a.length?t+Q(a[0]):"one"+z+t+Z(a.join(":")))}
if(c){const t=l?l+"["+o+"]":g+z+O
let i
switch(y){case s:if(i=rt(n,t,e),i)return i
break
case r:if(null===n)break
if(Array.isArray(n))break
if(i=lt(n,t,e),i)return i
break
case f:if(i=ft(n,t,e),i)return i}}}return!1}(t,o,e,d,n)}function ct(t,n,o=it){return st(t,n,{...o,type:e})}
function at(t,n,e=it){let l=null===t?C+J+r:M(t)?B+J+r:typeof t!==r?F+Q(typeof t)+E+W:""
if(l)return L(e.begin,n)+l
const u=Object.entries(t),c=u.length,a=e.key,g=void 0!==a,b=e.least,d=void 0!==b,h=e.most,v=void 0!==h,x=e.pass,A=void 0!==x,N=e.types,$=void 0!==N
return l=et(p,a,g)||nt(y,b,d,!1,!0)||nt(m,h,v,!1,!0)||tt(k,x,A)||_(j,N,$,!0)||(d&&v&&b>h?U+"least` > `options.most`":d&&b>c?"has length "+c+" < `options."+y+"` "+b:v&&h<c?"has length "+c+" > `options."+m+"` "+h:""),
l?L(e.begin,n,"A dictionary ")+l:function(t,n,e,l,u,c){const{begin:a,key:p,pass:y,types:g}=e,b=u&&g.length
for(let u=0;u<n;u++){const[n,d]=t[u],h=typeof d
if(l&&!p.test(n)){const t=Z(n)
return L(a,c&&c+"."+t,"`"+t+z+w+"` ")+"fails "+(p instanceof RegExp?p:"custom test "+o)}if(b&&-1===g.indexOf(h)){
const t="the"+I+j+"` "
return L(a,c&&c+"."+n,"`"+n+z+w+"` ")+R+(null===d?i:M(d)?O:q+Q(h))+","+E+(1===g.length?t+Q(g[0]):"one"+z+t+Z(g.join(":")))
}if(y){const t=c?c+"."+n:n+z+w
let o
switch(h){case s:if(o=rt(d,t,e),o)return o
break
case r:if(null===d)break
if(Array.isArray(d))break
if(o=lt(d,t,e),o)return o
break
case f:if(o=ft(d,t,e),o)return o}}}return!1}(u,c,e,g,$,n)}function pt(t,n,e=it){return st(t,n,{...e,type:o})}
function yt(t,n,e=it){return null!==t&&L(e.begin,n)+(M(t)?B:F+Q(typeof t))+E+i}function gt(t=it,...n){const e=[]
return[e,...n.map((n=>bt(t,n,e)))]}const bt=(t,n,e)=>(o,i,s)=>{const r=n(o,i,{...t,...s})
return r&&e.push(r),r}
export{ut as aintaArray,ct as aintaBoolean,at as aintaDictionary,pt as aintaFunction,yt as aintaNull,rt as aintaNumber,lt as aintaObject,ft as aintaString,st as aintaType,gt as default}
