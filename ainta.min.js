/**
 * https://www.npmjs.com/package/@0bdx/ainta
 * @version 0.0.5
 * @license Copyright (c) 2023 0bdx <0@0bdx.com> (0bdx.com)
 * SPDX-License-Identifier: MIT
 */
const n="array",t="bigint",e="boolean",o="function",i="null",s="number",r="object",f="string",l="symbol",u="undefined",c="enum",p="gte",a="least",y="lte",g="max",b="min",d="mod",h="most",m="open",v="pass",x="type",k="types",N="an ",j=N+n,A=N+r,$="is ",w=" not ",O=" of ",R=" `options.",z="cannot be validated,"+R,E=x+" ",I=$+j,U=$+i,q=$+"the special `NaN` value",B=$+E,C=" is"+w,D=w+N+n,F=w+"a regular ",G=w+E,H=(n,t,e)=>(n?n+": ":"")+(t?`\`${t}\` `:e||"A value "),J=Array.isArray,K=n=>-1!==[t,e,o,s,r,f,l,u].indexOf(n),L=n=>"'"+n+"'",M=L(e),P=L(s),Q=L(o),S=L(r),T=L(f),V=n=>encodeURI(n.length<=32?n:`${n.slice(0,21)}...${n.slice(-8)}`).replace(/%20/g," "),W=n=>L(V(n)),X=(n,t,e,o)=>{
if(e){const e=null===t?U+D:J(t)?o||t.length?"":"is empty":B+L(typeof t)+D
if(e)return z+n+"` "+e
for(let e=0,i=t.length;e<i;e++){
const i=t[e],s=null===i?U+G+T:J(i)?I+G+T:typeof i!==f?B+L(typeof i)+w+T:o&&!K(i)?W(i)+w+"known":""
if(s)return z+n+"["+e+"]` "+s}}},Y=(n,t,o)=>{if(o){const o=null===t?U+G+M:J(t)?I+G+M:typeof t!==e?B+L(typeof t)+w+M:""
if(o)return z+n+"` "+o}},Z=(n,t,e,o,i)=>{if(e){
const e=null===t?U+G+P:J(t)?I+G+P:typeof t!==s?B+L(typeof t)+w+P:isNaN(t)?q:o&&!t?"is zero":i&&t<0?"is negative":""
if(e)return z+n+"` "+e}},_=(n,t)=>{if(t){let t=null===n?U+G+S:J(n)?I+G+S:typeof n!==r?B+L(typeof n)+w+S:""
if(t)return z+"rx` "+t
const e=n.test
if(t=null===e?U+G+Q:J(e)?I+G+Q:typeof e!==o?B+L(typeof e)+w+Q:"",t)return z+"rx.test` "+t}},nn=(n,t)=>{if(t){
let t=null===n?U+G+S:J(n)?I+G+S:typeof n!==r?B+L(typeof n)+w+S:""
if(t)return z+"schema` "+t
for(const e in n){const o=n[e]
if(t=null===o?"` "+U+G+S:J(o)?"` "+I+G+S:typeof o!==r?"` "+B+L(typeof o)+w+S:"",!t)n:for(const n in o){const e=o[n]
if(n===k)if(t=null===e?"."+k+"` "+U+w+j:J(e)?"":"."+k+"` "+B+L(typeof e)+w+j,!t)for(let o=0,i=e.length;o<i;o++){
const i=e[o]
if(t=null===i?U+G+T:J(i)?I+G+T:typeof i!==f?B+L(typeof i)+w+T:K(i)?"":W(i)+w+"known",t){t="."+n+"["+o+"]` "+t
break n}}}if(t)return z+"schema."+e+t}}},tn={}
function en(n,t,e=tn){const o=typeof n
if(o===e.type)return!1
const i=H(e.begin,t),s=i+z+x+"` "
if(!(x in e))return`${s}is${w}set`
const r=e.type
return null===r?s+U+G+T:J(r)?s+I+G+T:typeof r!==f?s+B+L(typeof r)+w+T:K(r)?i+(null===n?U+G:J(n)?I+G:B+L(o)+w)+L(r):s+L(V(r))+w+"known"
}function on(n,t,e=tn){let o=en(n,t,{...e,type:s})
if(o)return o
const i=e.gte,r=void 0!==i,f=e.lte,l=void 0!==f,u=e.mod,c=void 0!==u
return o=Z(p,i,r)||Z(y,f,l)||Z(d,u,c,!0)||(r&&l&&i>f?z+"gte` > `options.lte`":isNaN(n)?q+F+s:r&&i>n?n+C+p+" "+i:l&&f<n?n+C+y+" "+f:c&&n%u?n+" is not divisible by "+u:""),
!!o&&H(e.begin,t)+o}function sn(n,t,e=tn){let i=en(n,t,{...e,type:f})
if(i)return i
const s=e.enum,r=void 0!==s,l=e.max,u=void 0!==l,p=e.min,a=void 0!==p,y=e.rx,d=void 0!==y
return i=X(c,s,r)||Z(g,l,u,!1,!0)||Z(b,p,a,!1,!0)||_(y,d)||(u&&a&&l<p?z+"max` < `options.min`":r&&-1==s.indexOf(n)?W(n)+" is not in "+W(s.join(":")):u&&l<n.length?W(n)+C+g+" "+l:a&&p>n.length?W(n)+C+b+" "+p:d&&!y.test(n)?W(n)+" fails "+(y instanceof RegExp?y:"custom test "+o):""),
!!i&&H(e.begin,t)+i}function rn(n,t,e=tn){if(!J(n))return H(e.begin,t)+(null===n?U:B+L(typeof n))+D
const o=n.length,r=e.least,l=void 0!==r,u=e.most,c=void 0!==u,p=e.pass,y=void 0!==p,g=e.types,b=void 0!==g,d=Z(a,r,l,!1,!0)||Z(h,u,c,!1,!0)||Y(v,p,y)||X(k,g,b,!0)||(l&&c&&r>u?z+"least` > `options.most`":l&&r>o?"has length "+o+" < `options."+a+"` "+r:c&&u<o?"has length "+o+" > `options."+h+"` "+u:"")
return d?H(e.begin,t,"An array ")+d:function(n,t,e,o,r){const{begin:l,pass:u,types:c}=e,p=o&&c.length
for(let o=0;o<t;o++){const t=n[o],u=typeof t,a="["+o+"]"
if(p&&-1===c.indexOf(u)){const n="the"+R+k+"` "
return H(l,r&&r+a,"`"+a+O+j+"` ")+$+(null===t?i:J(t)?j:E+L(u))+","+w+(1===c.length?n+L(c[0]):"one"+O+n+W(c.join(":")))}
if(e.pass){const n=r?r+"["+o+"]":a+O+j
let i
switch(u){case s:if(i=on(t,n,e),i)return i
break
case f:if(i=sn(t,n,e),i)return i}}}return!1}(n,o,e,b,t)}function fn(n,t,o=tn){return en(n,t,{...o,type:e})}
function ln(n,t,e=tn){return null!==n&&H(e.begin,t)+(J(n)?I:B+L(typeof n))+w+i}function un(n,t,e=tn){
let o=null===n?U+F+r:J(n)?I+F+r:typeof n!==r?B+L(typeof n)+w+S:""
if(o)return H(e.begin,t)+o
const s=e.open,f=void 0!==s,l=e.schema,c=void 0!==l
return o=Y(m,s,f)||nn(l,c),o?H(e.begin,t,"An object ")+o:function(n,t,e,o){const{begin:s,open:r,schema:f}=t
let l
if(e)for(const e in f){const{types:s}=f[e],r=n[e],c=typeof r
if(s&&s.length){if(-1===s.indexOf(c)){const n="the"+R+k+"` "
l=[e,$+(null===r?i:J(r)?j:E+L(c))+","+w+(1===s.length?n+L(s[0]):"one"+O+n+W(s.join(":")))]
break}{const n={number:on,string:sn}[c]
if(n){const i=n(r,o?o+"."+e:e+O+A,{begin:t.begin,...f[e]})
if(i)return i}}}else if(c===u){l=[e,$+"missing"]
break}}if(!r)for(const t in n)if(!f||!f[t]){l=[t,"is unexpected"]
break}return!!l&&H(s,o&&o+"."+l[0],"`"+l[0]+O+A+"` ")+l[1]}(n,e,c,t)}function cn(n=tn,...t){const e=[]
return[e,...t.map((t=>pn(n,t,e)))]}const pn=(n,t,e)=>(o,i,s)=>{const r=t(o,i,{...n,...s})
return r&&e.push(r),r}
export{rn as aintaArray,fn as aintaBoolean,ln as aintaNull,on as aintaNumber,un as aintaObject,sn as aintaString,en as aintaType,cn as default}
