/**
 * https://www.npmjs.com/package/@0bdx/ainta
 * @version 0.0.20
 * @license Copyright (c) 2023 0bdx <0@0bdx.com> (0bdx.com)
 * SPDX-License-Identifier: MIT
 */
const t="array",e="bigint",n="boolean",o="function",i="null",r="number",f="object",s="string",l="symbol",c="undefined",u="gte",a="is",p="least",y="lte",g="max",b="min",h="mod",d="most",m="open",k="pass",v="rx",j="type",x="types",A="an ",O=A+t,$="a class",w="a dictionary",N=A+f,R=a+" ",E="one",z=" not ",I=" of ",U=" `options.",q=U+a+"` ",B="the"+U+x+"` ",C="cannot be validated,"+U,D=j+" ",F=R+O,G=R+i,H=R+"the special `NaN` value",J=R+D,K=a+z,L=" "+K,M=K+"in",P=L+"in",Q=z+A+t,S=K+A+t,T=z+"a regular ",V=z+D,W={}
function X(t,e,n=W){let o=vt(t,e,{...n,type:r})
if(o)return o
const i=n.gte,f=void 0!==i,s=n.is,l=void 0!==s,c=n.lte,p=void 0!==c,g=n.mod,b=void 0!==g
return o=dt(u,i,f)||bt(a,s,l,[r])||dt(y,c,p)||dt(h,g,b,!0)||(f&&p&&i>c?C+"gte` > `options.lte`":isNaN(t)?H+T+r:l&&-1==s.indexOf(t)?M+q+ut(s.join(":")):f&&i>t?t+L+u+" "+i:p&&c<t?t+L+y+" "+c:b&&t%g?t+" is not divisible by "+g:""),
!!o&&_(n.begin,e)+o}function Y(t,e,n=W){let i=null===t?G+T+f:et(t)?F+T+f:typeof t!==f?J+ot(typeof t)+z+st:""
if(i)return _(n.begin,e)+i
const r=n.is,s=void 0!==r,l=n.open,c=void 0!==l,u=n.schema,p=void 0!==u
return i=bt(a,r,s,[f,o])||ht(m,l,c)||kt(u,p)||(s&&!tt(r,t)?M+q+at(r):""),i?_(n.begin,e,"An object ")+i:yt(t,n,p,N,e)}
function Z(t,e,n=W){let i=vt(t,e,{...n,type:s})
if(i)return i
const r=n.is,f=void 0!==r,l=n.max,c=void 0!==l,u=n.min,p=void 0!==u,y=n.rx,h=void 0!==y
return i=bt(a,r,f,[s])||dt(g,l,c,!1,!0)||dt(b,u,p,!1,!0)||mt(v,y,h)||(c&&p&&l<u?C+g+"` <"+U+b+"`":f&&-1==r.indexOf(t)?ut(t)+P+q+ut(r.join(":")):c&&l<t.length?ut(t)+L+g+" "+l:p&&u>t.length?ut(t)+L+b+" "+u:h&&!y.test(t)?ut(t)+" fails "+(y instanceof RegExp?y:"custom test "+o):""),
!!i&&_(n.begin,e)+i}const _=(t,e,n)=>(t?t+": ":"")+(e?`\`${e}\` `:n||"A value "),tt=(t,e)=>{
for(let n=0,i=t.length;n<i;n++){const i=t[n]
if(e===i||typeof i===o&&e instanceof i)return!0}return!1
},et=Array.isArray,nt=t=>!et(t)&&-1!==[e,n,o,r,f,s,l,c].indexOf(t),ot=t=>"'"+(Array.isArray(t)?t.join(":"):t)+"'",it=ot(n),rt=ot(r),ft=ot(o),st=ot(f),lt=ot(s),ct=t=>{
const e=et(t)?t.join(":"):t
return encodeURI(e.length<=32?e:`${e.slice(0,21)}...${e.slice(-8)}`).replace(/%20/g," ")
},ut=t=>ot(ct(t)),at=t=>ut(t.map((t=>null===t?i:void 0===t?c:typeof t===o?t.name:typeof t===f?t.constructor.name:t)).join(":")),pt=t=>ot(t.map((t=>et(t)?`[${t.join(":")}]`:t)).join(":")),yt=(t,e,n,o,r)=>{
const{begin:f,open:s,schema:l}=e
let u
if(n)for(const n in l){const{types:f}=l[n],s=t[n],a=typeof s,p=f&&f.filter(et)
if(f&&f.length)if(p.length&&et(s)){for(const t of p)if(0===t.length)continue
const t=s.length
let c,a=0,y=!1
t:for(const e of p){for(a=0;a<t;a++){c=s[a]
let t=!1
for(let n=0,o=e.length;n<o;n++)if(typeof c===e[n]){t=!0
break}if(!t)continue t}y=!0
break t}if(!y){const t=typeof c
u=[`${n}[${a}]`,R+(null===c?i:et(c)?O:D+ot(t))+","+z+(1===p.length?B:E+I+B)+pt(f)]
break}const g=r?r+"."+n:n+I+o
for(let o=0;o<t;o++){const t=s[o],i={number:X,object:Y,string:Z}[typeof t]
if(i){const r=i(t,`${g}[${o}]`,{begin:e.begin,...l[n]})
if(r)return r}}}else{if(-1===f.indexOf(a)){u=[n,R+(null===s?i:et(s)?O:D+ot(a))+","+z+(1===f.length?B:E+I+B)+pt(f)]
break}{const t={function:jt,number:X,object:Y,string:Z}[a]
if(t){const i=t(s,r?r+"."+n:n+I+o,{begin:e.begin,...l[n]})
if(i)return i}}}else if(a===c){u=[n,R+"missing"]
break}}if(!s)for(const e in t)if(!l||!l[e]){u=[e,"is unexpected"]
break}return!!u&&_(f,r&&r+"."+u[0],"`"+u[0]+I+o+"` ")+u[1]},gt=(t,e,n)=>{if(n){
const n=null===e?G+Q:et(e)?"":J+ot(typeof e)+Q
if(n)return C+t+"` "+n
for(let n=0,o=e.length;n<o;n++){
const o=e[n],i=null===o?G+V+lt:et(o)?F+V+lt:typeof o!==s?J+ot(typeof o)+z+lt:nt(o)?"":ut(o)+z+"known"
if(i)return C+t+"["+n+"]` "+i}}},bt=(t,e,n,o)=>{if(n){const n=null===e?G+Q:et(e)?e.length?"":"is empty":J+ot(typeof e)+Q
if(n)return C+t+"` "+n
const i=o.length
if(!i)return
let r=!1
if(1===i)for(let t=0,n=e.length;t<n;t++){if(typeof e[t]===o[0]){r=!0
break}}else t:for(let t=0,n=e.length;t<n;t++){const n=typeof e[t]
for(let t=0;t<i;t++)if(n===o[t]){r=!0
break t}}if(!r)return C+t+"` contains nothing of type '"+o.join("' or '")+"'"}},ht=(t,e,o)=>{if(o){
const o=null===e?G+V+it:et(e)?F+V+it:typeof e!==n?J+ot(typeof e)+z+it:""
if(o)return C+t+"` "+o}},dt=(t,e,n,o,i)=>{if(n){
const n=null===e?G+V+rt:et(e)?F+V+rt:typeof e!==r?J+ot(typeof e)+z+rt:isNaN(e)?H:o&&!e?"is zero":i&&e<0?"is negative":""
if(n)return C+t+"` "+n}},mt=(t,e,n)=>{if(n){let n=null===e?G+V+st:et(e)?F+V+st:typeof e!==f?J+ot(typeof e)+z+st:""
if(n)return C+t+"` "+n
const i=e.test
if(n=null===i?G+V+ft:et(i)?F+V+ft:typeof i!==o?J+ot(typeof i)+z+ft:"",n)return C+t+".test` "+n}},kt=(t,e)=>{if(e){
let e=null===t?G+V+st:et(t)?F+V+st:typeof t!==f?J+ot(typeof t)+z+st:""
if(e)return C+"schema` "+e
for(const n in t){const o=t[n]
if(e=null===o?"` "+G+V+st:et(o)?"` "+F+V+st:typeof o!==f?"` "+J+ot(typeof o)+z+st:"",!e)t:for(const t in o){const n=o[t]
if(t===x)if(e=null===n?".types` "+G+z+O:et(n)?"":".types` "+J+ot(typeof n)+z+O,!e)for(let o=0,i=n.length;o<i;o++){
const i=n[o]
if(et(i))for(let n=0,r=i.length;n<r;n++){const r=i[n]
if(e=null===r?G+V+lt:et(r)?F+V+lt:typeof r!==s?J+ot(typeof r)+z+lt:nt(r)?"":ut(r)+z+"known",e){
e="."+t+"["+o+"]["+n+"]` "+e
break t}}else if(e=null===i?G+V+lt:typeof i!==s?J+ot(typeof i)+z+lt:nt(i)?"":ut(i)+z+"known",e){e="."+t+"["+o+"]` "+e
break t}}}if(e)return C+"schema."+n+e}}}
function vt(t,e,n=W){const o=n.type,i=typeof t
if(i===o)return!1
const r=_(n.begin,e),f=j in n,l=f&&et(o)
if(f&&l){const t=gt(j,o,!0)
if(t)return r+t}else{const t=f?null===o?G+V+lt:typeof o!==s?J+ot(typeof o)+z+lt:nt(o)?"":ot(ct(o))+z+"known":K+"set"
if(t)return r+C+j+"` "+t}if(!l)return r+(null===t?G+V:et(t)?F+V:J+ot(i)+z)+ot(o)
if(!et(t))return r+S
const c=o.length,u=t.length
if(!c)return!1
for(let i=0;i<u;i++){const r=t[i]
let f=!1
for(let t=0;t<c;t++)if(typeof r===o[t]){f=!0
break}if(!f){const t="["+i+"]"
return _(n.begin,e&&e+t,"`"+t+I+O+"` ")+(null===r?G+V:et(r)?F+V:J+ot(typeof r)+z)+ot(o.join(":"))}}return!1}
function jt(t,e,n=W){let i=vt(t,e,{...n,type:o})
if(i)return i
const r=n.open,f=void 0!==r,s=n.schema,l=void 0!==s
return i=ht(m,r,f)||kt(s,l),i?_(n.begin,e,"A class ")+i:yt(t,n,l,$,e)}function xt(t,e,n=W){
if(!et(t))return _(n.begin,e)+(null===t?G:J+ot(typeof t))+Q
const l=t.length,c=n.is,u=void 0!==c,y=n.least,g=void 0!==y,b=n.most,h=void 0!==b,m=n.pass,v=void 0!==m,j=n.types,A=void 0!==j,$=bt(a,c,u,[])||dt(p,y,g,!1,!0)||dt(d,b,h,!1,!0)||ht(k,m,v)||gt(x,j,A)||(g&&h&&y>b?C+"least` > `options.most`":g&&y>l?"has length "+l+" < `options."+p+"` "+y:h&&b<l?"has length "+l+" > `options."+d+"` "+b:"")
return $?_(n.begin,e,"An array ")+$:function(t,e,n,l,c,u){const{begin:a,is:p,pass:y,types:g}=n,b=c&&g.length
for(let c=0;c<e;c++){const e=t[c],h=typeof e,d="["+c+"]"
if(!l||!tt(p,e)){if(l&&!b)return _(a,u&&u+d,"`"+d+I+O+"` ")+M+q+at(p)
if(b&&-1===g.indexOf(h))return _(a,u&&u+d,"`"+d+I+O+"` ")+R+(null===e?i:et(e)?O:D+ot(h))+","+z+(1===g.length?B+ot(g[0]):E+I+B+ut(g.join(":")))
if(b&&h===f){const t=null===e?i:et(e)?O:""
if(t)return _(a,u&&u+d,"`"+d+I+O+"` ")+R+t+","+T+f}if(y){const t=u?u+"["+c+"]":d+I+O
let i
switch(h){case o:if(i=jt(e,t,n),i)return i
break
case r:if(i=X(e,t,n),i)return i
break
case f:if(null===e)break
if(Array.isArray(e))break
if(i=Y(e,t,n),i)return i
break
case s:if(i=Z(e,t,n),i)return i}}}}return!1}(t,l,n,u,A,e)}function At(t,e,o=W){let i=vt(t,e,{...o,type:n})
if(i)return i
const r=o.is,f=void 0!==r
return i=bt(a,r,f,[n])||(f&&-1==r.indexOf(t)?M+q+ut(r.join(":")):""),!!i&&_(o.begin,e)+i}function Ot(t,e,n=W){
let l=null===t?G+T+f:et(t)?F+T+f:typeof t!==f?J+ot(typeof t)+z+st:""
if(l)return _(n.begin,e)+l
const c=Object.entries(t),u=c.length,a=n.key,y=void 0!==a,g=n.least,b=void 0!==g,h=n.most,m=void 0!==h,v=n.pass,j=void 0!==v,A=n.types,$=void 0!==A
return l=mt("key",a,y)||dt(p,g,b,!1,!0)||dt(d,h,m,!1,!0)||ht(k,v,j)||gt(x,A,$)||(b&&m&&g>h?C+"least` > `options.most`":b&&g>u?"has length "+u+" < `options."+p+"` "+g:m&&h<u?"has length "+u+" > `options."+d+"` "+h:""),
l?_(n.begin,e,"A dictionary ")+l:function(t,e,n,l,c,u){const{begin:a,key:p,pass:y,types:g}=n,b=c&&g.length
for(let c=0;c<e;c++){const[e,h]=t[c],d=typeof h
if(l&&!p.test(e)){const t=ct(e)
return _(a,u&&u+"."+t,"`"+t+I+w+"` ")+"fails "+(p instanceof RegExp?p:"custom test "+o)}
if(b&&-1===g.indexOf(d))return _(a,u&&u+"."+e,"`"+e+I+w+"` ")+R+(null===h?i:et(h)?O:D+ot(d))+","+z+(1===g.length?B+ot(g[0]):E+I+B+ut(g.join(":")))
if(y){const t=u?u+"."+e:e+I+w
let i
switch(d){case o:if(i=jt(h,t,n),i)return i
break
case r:if(i=X(h,t,n),i)return i
break
case f:if(null===h)break
if(Array.isArray(h))break
if(i=Y(h,t,n),i)return i
break
case s:if(i=Z(h,t,n),i)return i}}}return!1}(c,u,n,y,$,e)}function $t(t,e,n=W){
return null!==t&&_(n.begin,e)+(et(t)?F:J+ot(typeof t))+z+i}function wt(t=W,...e){const n=[]
return[n,...e.map((e=>et(e)?1===e.length?Nt(t,e[0],n):Rt(t,e,n):Nt(t,e,n)))]}const Nt=(t,e,n)=>(o,i,r)=>{const f=e(o,i,{
...t,...r})
return f&&n.push(f),f},Rt=(t,e,n)=>(o,i,r)=>{const f=[]
for(const n of e){const e=n(o,i,{...t,...r})
if(!e)return!1
f.push(e)}let s=0
const l=f.length
t:for(;;){const t=f[0][s]
if(!t)break t
for(let e=1;e<l;e++)if(f[e][s]!==t)break t
s++}s=s>=2&&" '"===f[0].slice(s-2,s)?s-2:s
const c=f[0]+"; or "+f.slice(1).map((t=>t.slice(s).trim())).join("; or ")
return n.push(c),c}
export{xt as aintaArray,At as aintaBoolean,Ot as aintaDictionary,jt as aintaFunction,$t as aintaNull,X as aintaNumber,Y as aintaObject,Z as aintaString,vt as aintaType,wt as default}
