/**
 * https://www.npmjs.com/package/@0bdx/ainta
 * @version 0.0.9
 * @license Copyright (c) 2023 0bdx <0@0bdx.com> (0bdx.com)
 * SPDX-License-Identifier: MIT
 */
const t="array",n="bigint",e="boolean",o="function",i="null",s="number",r="object",f="string",l="symbol",u="undefined",c="enum",p="gte",a="least",y="lte",g="max",b="min",d="mod",h="most",m="open",v="pass",x="type",k="types",A="an ",j=A+t,N="a dictionary",O=A+r,w="is ",$=" not ",R=" of ",z=" `options.",E="cannot be validated,"+z,I=x+" ",U=w+j,q=w+i,B=w+"the special `NaN` value",C=w+I,D=" is"+$,F=$+A+t,G=$+"a regular ",H=$+I,J=(t,n,e)=>(t?t+": ":"")+(n?`\`${n}\` `:e||"A value "),K=Array.isArray,L=t=>-1!==[n,e,o,s,r,f,l,u].indexOf(t),M=t=>"'"+t+"'",P=M(e),Q=M(s),S=M(o),T=M(r),V=M(f),W=t=>encodeURI(t.length<=32?t:`${t.slice(0,21)}...${t.slice(-8)}`).replace(/%20/g," "),X=t=>M(W(t)),Y=(t,n,e,o)=>{
if(e){const e=null===n?q+F:K(n)?o||n.length?"":"is empty":C+M(typeof n)+F
if(e)return E+t+"` "+e
for(let e=0,i=n.length;e<i;e++){
const i=n[e],s=null===i?q+H+V:K(i)?U+H+V:typeof i!==f?C+M(typeof i)+$+V:o&&!L(i)?X(i)+$+"known":""
if(s)return E+t+"["+e+"]` "+s}}},Z=(t,n,o)=>{if(o){const o=null===n?q+H+P:K(n)?U+H+P:typeof n!==e?C+M(typeof n)+$+P:""
if(o)return E+t+"` "+o}},_=(t,n,e,o,i)=>{if(e){
const e=null===n?q+H+Q:K(n)?U+H+Q:typeof n!==s?C+M(typeof n)+$+Q:isNaN(n)?B:o&&!n?"is zero":i&&n<0?"is negative":""
if(e)return E+t+"` "+e}},tt=(t,n)=>{if(n){let n=null===t?q+H+T:K(t)?U+H+T:typeof t!==r?C+M(typeof t)+$+T:""
if(n)return E+"rx` "+n
const e=t.test
if(n=null===e?q+H+S:K(e)?U+H+S:typeof e!==o?C+M(typeof e)+$+S:"",n)return E+"rx.test` "+n}},nt=(t,n)=>{if(n){
let n=null===t?q+H+T:K(t)?U+H+T:typeof t!==r?C+M(typeof t)+$+T:""
if(n)return E+"schema` "+n
for(const e in t){const o=t[e]
if(n=null===o?"` "+q+H+T:K(o)?"` "+U+H+T:typeof o!==r?"` "+C+M(typeof o)+$+T:"",!n)t:for(const t in o){const e=o[t]
if(t===k)if(n=null===e?"."+k+"` "+q+$+j:K(e)?"":"."+k+"` "+C+M(typeof e)+$+j,!n)for(let o=0,i=e.length;o<i;o++){
const i=e[o]
if(n=null===i?q+H+V:K(i)?U+H+V:typeof i!==f?C+M(typeof i)+$+V:L(i)?"":X(i)+$+"known",n){n="."+t+"["+o+"]` "+n
break t}}}if(n)return E+"schema."+e+n}}},et={}
function ot(t,n,e=et){const o=typeof t
if(o===e.type)return!1
const i=J(e.begin,n),s=i+E+x+"` "
if(!(x in e))return`${s}is${$}set`
const r=e.type
return null===r?s+q+H+V:K(r)?s+U+H+V:typeof r!==f?s+C+M(typeof r)+$+V:L(r)?i+(null===t?q+H:K(t)?U+H:C+M(o)+$)+M(r):s+M(W(r))+$+"known"
}function it(t,n,e=et){let o=ot(t,n,{...e,type:s})
if(o)return o
const i=e.gte,r=void 0!==i,f=e.lte,l=void 0!==f,u=e.mod,c=void 0!==u
return o=_(p,i,r)||_(y,f,l)||_(d,u,c,!0)||(r&&l&&i>f?E+"gte` > `options.lte`":isNaN(t)?B+G+s:r&&i>t?t+D+p+" "+i:l&&f<t?t+D+y+" "+f:c&&t%u?t+" is not divisible by "+u:""),
!!o&&J(e.begin,n)+o}function st(t,n,e=et){let i=ot(t,n,{...e,type:f})
if(i)return i
const s=e.enum,r=void 0!==s,l=e.max,u=void 0!==l,p=e.min,a=void 0!==p,y=e.rx,d=void 0!==y
return i=Y(c,s,r)||_(g,l,u,!1,!0)||_(b,p,a,!1,!0)||tt(y,d)||(u&&a&&l<p?E+"max` < `options.min`":r&&-1==s.indexOf(t)?X(t)+" is not in "+X(s.join(":")):u&&l<t.length?X(t)+D+g+" "+l:a&&p>t.length?X(t)+D+b+" "+p:d&&!y.test(t)?X(t)+" fails "+(y instanceof RegExp?y:"custom test "+o):""),
!!i&&J(e.begin,n)+i}function rt(t,n,e=et){let o=null===t?q+G+r:K(t)?U+G+r:typeof t!==r?C+M(typeof t)+$+T:""
if(o)return J(e.begin,n)+o
const s=e.open,f=void 0!==s,l=e.schema,c=void 0!==l
return o=Z(m,s,f)||nt(l,c),o?J(e.begin,n,"An object ")+o:function(t,n,e,o){const{begin:s,open:r,schema:f}=n
let l
if(e)for(const e in f){const{types:s}=f[e],r=t[e],c=typeof r
if(s&&s.length){if(-1===s.indexOf(c)){const t="the"+z+k+"` "
l=[e,w+(null===r?i:K(r)?j:I+M(c))+","+$+(1===s.length?t+M(s[0]):"one"+R+t+X(s.join(":")))]
break}{const t={number:it,string:st}[c]
if(t){const i=t(r,o?o+"."+e:e+R+O,{begin:n.begin,...f[e]})
if(i)return i}}}else if(c===u){l=[e,w+"missing"]
break}}if(!r)for(const n in t)if(!f||!f[n]){l=[n,"is unexpected"]
break}return!!l&&J(s,o&&o+"."+l[0],"`"+l[0]+R+O+"` ")+l[1]}(t,e,c,n)}function ft(t,n,e=et){
if(!K(t))return J(e.begin,n)+(null===t?q:C+M(typeof t))+F
const o=t.length,l=e.least,u=void 0!==l,c=e.most,p=void 0!==c,y=e.pass,g=void 0!==y,b=e.types,d=void 0!==b,m=_(a,l,u,!1,!0)||_(h,c,p,!1,!0)||Z(v,y,g)||Y(k,b,d,!0)||(u&&p&&l>c?E+"least` > `options.most`":u&&l>o?"has length "+o+" < `options."+a+"` "+l:p&&c<o?"has length "+o+" > `options."+h+"` "+c:"")
return m?J(e.begin,n,"An array ")+m:function(t,n,e,o,l){const{begin:u,pass:c,types:p}=e,a=o&&p.length
for(let o=0;o<n;o++){const n=t[o],c=typeof n,y="["+o+"]"
if(a&&-1===p.indexOf(c)){const t="the"+z+k+"` "
return J(u,l&&l+y,"`"+y+R+j+"` ")+w+(null===n?i:K(n)?j:I+M(c))+","+$+(1===p.length?t+M(p[0]):"one"+R+t+X(p.join(":")))}
if(e.pass){const t=l?l+"["+o+"]":y+R+j
let i
switch(c){case s:if(i=it(n,t,e),i)return i
break
case r:if(null===n)break
if(Array.isArray(n))break
if(i=rt(n,t,e),i)return i
break
case f:if(i=st(n,t,e),i)return i}}}return!1}(t,o,e,d,n)}function lt(t,n,o=et){return ot(t,n,{...o,type:e})}
function ut(t,n,e=et){let o=null===t?q+G+r:K(t)?U+G+r:typeof t!==r?C+M(typeof t)+$+T:""
if(o)return J(e.begin,n)+o
const l=Object.entries(t),u=l.length,c=e.least,p=void 0!==c,y=e.most,g=void 0!==y,b=e.pass,d=void 0!==b,m=e.types,x=void 0!==m
return o=_(a,c,p,!1,!0)||_(h,y,g,!1,!0)||Z(v,b,d)||Y(k,m,x,!0)||(p&&g&&c>y?E+"least` > `options.most`":p&&c>u?"has length "+u+" < `options."+a+"` "+c:g&&y<u?"has length "+u+" > `options."+h+"` "+y:""),
o?J(e.begin,n,"A dictionary ")+o:function(t,n,e,o,r){const{begin:l,pass:u,types:c}=e,p=o&&c.length
for(let o=0;o<n;o++){const[n,u]=t[o],a=typeof u
if(p&&-1===c.indexOf(a)){const t="the"+z+k+"` "
return J(l,r&&r+"."+n,"`"+n+R+N+"` ")+w+(null===u?i:K(u)?j:I+M(a))+","+$+(1===c.length?t+M(c[0]):"one"+R+t+X(c.join(":")))
}if(e.pass){const t=r?r+"."+n:n+R+N
let o
switch(a){case s:if(o=it(u,t,e),o)return o
break
case f:if(o=st(u,t,e),o)return o}}}return!1}(l,u,e,x,n)}function ct(t,n,e=et){return ot(t,n,{...e,type:o})}
function pt(t,n,e=et){return null!==t&&J(e.begin,n)+(K(t)?U:C+M(typeof t))+$+i}function at(t=et,...n){const e=[]
return[e,...n.map((n=>yt(t,n,e)))]}const yt=(t,n,e)=>(o,i,s)=>{const r=n(o,i,{...t,...s})
return r&&e.push(r),r}
export{ft as aintaArray,lt as aintaBoolean,ut as aintaDictionary,ct as aintaFunction,pt as aintaNull,it as aintaNumber,rt as aintaObject,st as aintaString,ot as aintaType,at as default}
