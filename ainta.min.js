/**
 * https://www.npmjs.com/package/@0bdx/ainta
 * @version 0.0.9
 * @license Copyright (c) 2023 0bdx <0@0bdx.com> (0bdx.com)
 * SPDX-License-Identifier: MIT
 */
const n="array",t="bigint",e="boolean",o="function",i="null",r="number",s="object",f="string",l="symbol",u="undefined",c="enum",a="gte",p="least",y="lte",g="max",b="min",d="mod",h="most",m="open",v="pass",k="type",x="types",A="an ",j=A+n,N="a dictionary",O=A+s,w="is ",$=" not ",R=" of ",z=" `options.",E="cannot be validated,"+z,I=k+" ",U=w+j,q=w+i,B=w+"the special `NaN` value",C=w+I,D=" is"+$,F=$+A+n,G=$+"a regular ",H=$+I,J=(n,t,e)=>(n?n+": ":"")+(t?`\`${t}\` `:e||"A value "),K=Array.isArray,L=n=>-1!==[t,e,o,r,s,f,l,u].indexOf(n),M=n=>"'"+n+"'",P=M(e),Q=M(r),S=M(o),T=M(s),V=M(f),W=n=>encodeURI(n.length<=32?n:`${n.slice(0,21)}...${n.slice(-8)}`).replace(/%20/g," "),X=n=>M(W(n)),Y=(n,t,e,o)=>{
if(e){const e=null===t?q+F:K(t)?o||t.length?"":"is empty":C+M(typeof t)+F
if(e)return E+n+"` "+e
for(let e=0,i=t.length;e<i;e++){
const i=t[e],r=null===i?q+H+V:K(i)?U+H+V:typeof i!==f?C+M(typeof i)+$+V:o&&!L(i)?X(i)+$+"known":""
if(r)return E+n+"["+e+"]` "+r}}},Z=(n,t,o)=>{if(o){const o=null===t?q+H+P:K(t)?U+H+P:typeof t!==e?C+M(typeof t)+$+P:""
if(o)return E+n+"` "+o}},_=(n,t,e,o,i)=>{if(e){
const e=null===t?q+H+Q:K(t)?U+H+Q:typeof t!==r?C+M(typeof t)+$+Q:isNaN(t)?B:o&&!t?"is zero":i&&t<0?"is negative":""
if(e)return E+n+"` "+e}},nn=(n,t)=>{if(t){let t=null===n?q+H+T:K(n)?U+H+T:typeof n!==s?C+M(typeof n)+$+T:""
if(t)return E+"rx` "+t
const e=n.test
if(t=null===e?q+H+S:K(e)?U+H+S:typeof e!==o?C+M(typeof e)+$+S:"",t)return E+"rx.test` "+t}},tn=(n,t)=>{if(t){
let t=null===n?q+H+T:K(n)?U+H+T:typeof n!==s?C+M(typeof n)+$+T:""
if(t)return E+"schema` "+t
for(const e in n){const o=n[e]
if(t=null===o?"` "+q+H+T:K(o)?"` "+U+H+T:typeof o!==s?"` "+C+M(typeof o)+$+T:"",!t)n:for(const n in o){const e=o[n]
if(n===x)if(t=null===e?"."+x+"` "+q+$+j:K(e)?"":"."+x+"` "+C+M(typeof e)+$+j,!t)for(let o=0,i=e.length;o<i;o++){
const i=e[o]
if(t=null===i?q+H+V:K(i)?U+H+V:typeof i!==f?C+M(typeof i)+$+V:L(i)?"":X(i)+$+"known",t){t="."+n+"["+o+"]` "+t
break n}}}if(t)return E+"schema."+e+t}}},en={}
function on(n,t,e=en){const o=typeof n
if(o===e.type)return!1
const i=J(e.begin,t),r=i+E+k+"` "
if(!(k in e))return`${r}is${$}set`
const s=e.type
return null===s?r+q+H+V:K(s)?r+U+H+V:typeof s!==f?r+C+M(typeof s)+$+V:L(s)?i+(null===n?q+H:K(n)?U+H:C+M(o)+$)+M(s):r+M(W(s))+$+"known"
}function rn(n,t,e=en){let o=on(n,t,{...e,type:r})
if(o)return o
const i=e.gte,s=void 0!==i,f=e.lte,l=void 0!==f,u=e.mod,c=void 0!==u
return o=_(a,i,s)||_(y,f,l)||_(d,u,c,!0)||(s&&l&&i>f?E+"gte` > `options.lte`":isNaN(n)?B+G+r:s&&i>n?n+D+a+" "+i:l&&f<n?n+D+y+" "+f:c&&n%u?n+" is not divisible by "+u:""),
!!o&&J(e.begin,t)+o}function sn(n,t,e=en){let i=on(n,t,{...e,type:f})
if(i)return i
const r=e.enum,s=void 0!==r,l=e.max,u=void 0!==l,a=e.min,p=void 0!==a,y=e.rx,d=void 0!==y
return i=Y(c,r,s)||_(g,l,u,!1,!0)||_(b,a,p,!1,!0)||nn(y,d)||(u&&p&&l<a?E+"max` < `options.min`":s&&-1==r.indexOf(n)?X(n)+" is not in "+X(r.join(":")):u&&l<n.length?X(n)+D+g+" "+l:p&&a>n.length?X(n)+D+b+" "+a:d&&!y.test(n)?X(n)+" fails "+(y instanceof RegExp?y:"custom test "+o):""),
!!i&&J(e.begin,t)+i}function fn(n,t,e=en){let o=null===n?q+G+s:K(n)?U+G+s:typeof n!==s?C+M(typeof n)+$+T:""
if(o)return J(e.begin,t)+o
const r=e.open,f=void 0!==r,l=e.schema,c=void 0!==l
return o=Z(m,r,f)||tn(l,c),o?J(e.begin,t,"An object ")+o:function(n,t,e,o){const{begin:r,open:s,schema:f}=t
let l
if(e)for(const e in f){const{types:r}=f[e],s=n[e],c=typeof s
if(r&&r.length){if(-1===r.indexOf(c)){const n="the"+z+x+"` "
l=[e,w+(null===s?i:K(s)?j:I+M(c))+","+$+(1===r.length?n+M(r[0]):"one"+R+n+X(r.join(":")))]
break}{const n={number:rn,string:sn}[c]
if(n){const i=n(s,o?o+"."+e:e+R+O,{begin:t.begin,...f[e]})
if(i)return i}}}else if(c===u){l=[e,w+"missing"]
break}}if(!s)for(const t in n)if(!f||!f[t]){l=[t,"is unexpected"]
break}return!!l&&J(r,o&&o+"."+l[0],"`"+l[0]+R+O+"` ")+l[1]}(n,e,c,t)}function ln(n,t,e=en){
if(!K(n))return J(e.begin,t)+(null===n?q:C+M(typeof n))+F
const o=n.length,l=e.least,u=void 0!==l,c=e.most,a=void 0!==c,y=e.pass,g=void 0!==y,b=e.types,d=void 0!==b,m=_(p,l,u,!1,!0)||_(h,c,a,!1,!0)||Z(v,y,g)||Y(x,b,d,!0)||(u&&a&&l>c?E+"least` > `options.most`":u&&l>o?"has length "+o+" < `options."+p+"` "+l:a&&c<o?"has length "+o+" > `options."+h+"` "+c:"")
return m?J(e.begin,t,"An array ")+m:function(n,t,e,o,l){const{begin:u,pass:c,types:a}=e,p=o&&a.length
for(let o=0;o<t;o++){const t=n[o],y=typeof t,g="["+o+"]"
if(p&&-1===a.indexOf(y)){const n="the"+z+x+"` "
return J(u,l&&l+g,"`"+g+R+j+"` ")+w+(null===t?i:K(t)?j:I+M(y))+","+$+(1===a.length?n+M(a[0]):"one"+R+n+X(a.join(":")))}
if(c){const n=l?l+"["+o+"]":g+R+j
let i
switch(y){case r:if(i=rn(t,n,e),i)return i
break
case s:if(null===t)break
if(Array.isArray(t))break
if(i=fn(t,n,e),i)return i
break
case f:if(i=sn(t,n,e),i)return i}}}return!1}(n,o,e,d,t)}function un(n,t,o=en){return on(n,t,{...o,type:e})}
function cn(n,t,e=en){let o=null===n?q+G+s:K(n)?U+G+s:typeof n!==s?C+M(typeof n)+$+T:""
if(o)return J(e.begin,t)+o
const l=Object.entries(n),u=l.length,c=e.least,a=void 0!==c,y=e.most,g=void 0!==y,b=e.pass,d=void 0!==b,m=e.types,k=void 0!==m
return o=_(p,c,a,!1,!0)||_(h,y,g,!1,!0)||Z(v,b,d)||Y(x,m,k,!0)||(a&&g&&c>y?E+"least` > `options.most`":a&&c>u?"has length "+u+" < `options."+p+"` "+c:g&&y<u?"has length "+u+" > `options."+h+"` "+y:""),
o?J(e.begin,t,"A dictionary ")+o:function(n,t,e,o,l){const{begin:u,pass:c,types:a}=e,p=o&&a.length
for(let o=0;o<t;o++){const[t,y]=n[o],g=typeof y
if(p&&-1===a.indexOf(g)){const n="the"+z+x+"` "
return J(u,l&&l+"."+t,"`"+t+R+N+"` ")+w+(null===y?i:K(y)?j:I+M(g))+","+$+(1===a.length?n+M(a[0]):"one"+R+n+X(a.join(":")))
}if(c){const n=l?l+"."+t:t+R+N
let o
switch(g){case r:if(o=rn(y,n,e),o)return o
break
case s:if(null===y)break
if(Array.isArray(y))break
if(o=fn(y,n,e),o)return o
break
case f:if(o=sn(y,n,e),o)return o}}}return!1}(l,u,e,k,t)}function an(n,t,e=en){return on(n,t,{...e,type:o})}
function pn(n,t,e=en){return null!==n&&J(e.begin,t)+(K(n)?U:C+M(typeof n))+$+i}function yn(n=en,...t){const e=[]
return[e,...t.map((t=>gn(n,t,e)))]}const gn=(n,t,e)=>(o,i,r)=>{const s=t(o,i,{...n,...r})
return s&&e.push(s),s}
export{ln as aintaArray,un as aintaBoolean,cn as aintaDictionary,an as aintaFunction,pn as aintaNull,rn as aintaNumber,fn as aintaObject,sn as aintaString,on as aintaType,yn as default}
