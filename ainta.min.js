/**
 * https://www.npmjs.com/package/@0bdx/ainta
 * @version 0.0.17
 * @license Copyright (c) 2023 0bdx <0@0bdx.com> (0bdx.com)
 * SPDX-License-Identifier: MIT
 */
const e="array",t="bigint",n="boolean",o="function",i="null",r="number",f="object",s="string",l="symbol",u="undefined",c="gte",a="is",p="key",y="least",g="lte",b="max",h="min",d="mod",v="most",m="open",k="pass",j="rx",x="type",A="types",O="an ",$=O+e,w="a class",N="a dictionary",R=O+f,E=a+" ",z="one",I=" not ",U=" of ",q=" `options.",B=q+a+"` ",C="the"+q+A+"` ",D="cannot be validated,"+q,F=x+" ",G=E+$,H=E+i,J=E+"the special `NaN` value",K=E+F,L=a+I,M=" "+L,P=L+"in",Q=M+"in",S=I+O+e,T=L+O+e,V=I+"a regular ",W=I+F,X={}
function Y(e,t,n=X){let o=je(e,t,{...n,type:r})
if(o)return o
const i=n.gte,f=void 0!==i,s=n.is,l=void 0!==s,u=n.lte,p=void 0!==u,y=n.mod,b=void 0!==y
return o=ve(c,i,f)||he(a,s,l,[r])||ve(g,u,p)||ve(d,y,b,!0)||(f&&p&&i>u?D+"gte` > `options.lte`":isNaN(e)?J+V+r:l&&-1==s.indexOf(e)?P+B+ae(s.join(":")):f&&i>e?e+M+c+" "+i:p&&u<e?e+M+g+" "+u:b&&e%y?e+" is not divisible by "+y:""),
!!o&&ee(n.begin,t)+o}function Z(e,t,n=X){let i=null===e?H+V+f:ne(e)?G+V+f:typeof e!==f?K+ie(typeof e)+I+le:""
if(i)return ee(n.begin,t)+i
const r=n.is,s=void 0!==r,l=n.open,u=void 0!==l,c=n.schema,p=void 0!==c
return i=he(a,r,s,[f,o])||de(m,l,u)||ke(c,p)||(s&&!te(r,e)?P+B+pe(r):""),i?ee(n.begin,t,"An object ")+i:ge(e,n,p,R,t)}
function _(e,t,n=X){let i=je(e,t,{...n,type:s})
if(i)return i
const r=n.is,f=void 0!==r,l=n.max,u=void 0!==l,c=n.min,p=void 0!==c,y=n.rx,g=void 0!==y
return i=he(a,r,f,[s])||ve(b,l,u,!1,!0)||ve(h,c,p,!1,!0)||me(j,y,g)||(u&&p&&l<c?D+b+"` <"+q+h+"`":f&&-1==r.indexOf(e)?ae(e)+Q+B+ae(r.join(":")):u&&l<e.length?ae(e)+M+b+" "+l:p&&c>e.length?ae(e)+M+h+" "+c:g&&!y.test(e)?ae(e)+" fails "+(y instanceof RegExp?y:"custom test "+o):""),
!!i&&ee(n.begin,t)+i}const ee=(e,t,n)=>(e?e+": ":"")+(t?`\`${t}\` `:n||"A value "),te=(e,t)=>{
for(let n=0,i=e.length;n<i;n++){const i=e[n]
if(t===i||typeof i===o&&t instanceof i)return!0}return!1
},ne=Array.isArray,oe=e=>!ne(e)&&-1!==[t,n,o,r,f,s,l,u].indexOf(e),ie=e=>"'"+(Array.isArray(e)?e.join(":"):e)+"'",re=ie(n),fe=ie(r),se=ie(o),le=ie(f),ue=ie(s),ce=e=>{
const t=ne(e)?e.join(":"):e
return encodeURI(t.length<=32?t:`${t.slice(0,21)}...${t.slice(-8)}`).replace(/%20/g," ")
},ae=e=>ie(ce(e)),pe=e=>ae(e.map((e=>null===e?i:void 0===e?u:typeof e===o?e.name:typeof e===f?e.constructor.name:e)).join(":")),ye=e=>ie(e.map((e=>ne(e)?`[${e.join(":")}]`:e)).join(":")),ge=(e,t,n,o,r)=>{
const{begin:f,open:s,schema:l}=t
let c
if(n)for(const n in l){const{types:f}=l[n],s=e[n],a=typeof s,p=f&&f.filter(ne)
if(f&&f.length)if(p.length&&ne(s)){for(const e of p)if(0===e.length)continue
const e=s.length
let u,a=0,y=!1
e:for(const t of p){for(a=0;a<e;a++){u=s[a]
let e=!1
for(let n=0,o=t.length;n<o;n++)if(typeof u===t[n]){e=!0
break}if(!e)continue e}y=!0
break e}if(!y){const e=typeof u
c=[`${n}[${a}]`,E+(null===u?i:ne(u)?$:F+ie(e))+","+I+(1===p.length?C:z+U+C)+ye(f)]
break}const g=r?r+"."+n:n+U+o
for(let o=0;o<e;o++){const e=s[o],i={number:Y,object:Z,string:_}[typeof e]
if(i){const r=i(e,`${g}[${o}]`,{begin:t.begin,...l[n]})
if(r)return r}}}else{if(-1===f.indexOf(a)){c=[n,E+(null===s?i:ne(s)?$:F+ie(a))+","+I+(1===f.length?C:z+U+C)+ye(f)]
break}{const e={function:xe,number:Y,object:Z,string:_}[a]
if(e){const i=e(s,r?r+"."+n:n+U+o,{begin:t.begin,...l[n]})
if(i)return i}}}else if(a===u){c=[n,E+"missing"]
break}}if(!s)for(const t in e)if(!l||!l[t]){c=[t,"is unexpected"]
break}return!!c&&ee(f,r&&r+"."+c[0],"`"+c[0]+U+o+"` ")+c[1]},be=(e,t,n)=>{if(n){
const n=null===t?H+S:ne(t)?"":K+ie(typeof t)+S
if(n)return D+e+"` "+n
for(let n=0,o=t.length;n<o;n++){
const o=t[n],i=null===o?H+W+ue:ne(o)?G+W+ue:typeof o!==s?K+ie(typeof o)+I+ue:oe(o)?"":ae(o)+I+"known"
if(i)return D+e+"["+n+"]` "+i}}},he=(e,t,n,o)=>{if(n){const n=null===t?H+S:ne(t)?t.length?"":"is empty":K+ie(typeof t)+S
if(n)return D+e+"` "+n
const i=o.length
if(!i)return
let r=!1
if(1===i)for(let e=0,n=t.length;e<n;e++){if(typeof t[e]===o[0]){r=!0
break}}else e:for(let e=0,n=t.length;e<n;e++){const n=typeof t[e]
for(let e=0;e<i;e++)if(n===o[e]){r=!0
break e}}if(!r)return D+e+"` contains nothing of type '"+o.join("' or '")+"'"}},de=(e,t,o)=>{if(o){
const o=null===t?H+W+re:ne(t)?G+W+re:typeof t!==n?K+ie(typeof t)+I+re:""
if(o)return D+e+"` "+o}},ve=(e,t,n,o,i)=>{if(n){
const n=null===t?H+W+fe:ne(t)?G+W+fe:typeof t!==r?K+ie(typeof t)+I+fe:isNaN(t)?J:o&&!t?"is zero":i&&t<0?"is negative":""
if(n)return D+e+"` "+n}},me=(e,t,n)=>{if(n){let n=null===t?H+W+le:ne(t)?G+W+le:typeof t!==f?K+ie(typeof t)+I+le:""
if(n)return D+e+"` "+n
const i=t.test
if(n=null===i?H+W+se:ne(i)?G+W+se:typeof i!==o?K+ie(typeof i)+I+se:"",n)return D+e+".test` "+n}},ke=(e,t)=>{if(t){
let t=null===e?H+W+le:ne(e)?G+W+le:typeof e!==f?K+ie(typeof e)+I+le:""
if(t)return D+"schema` "+t
for(const n in e){const o=e[n]
if(t=null===o?"` "+H+W+le:ne(o)?"` "+G+W+le:typeof o!==f?"` "+K+ie(typeof o)+I+le:"",!t)e:for(const e in o){const n=o[e]
if(e===A)if(t=null===n?"."+A+"` "+H+I+$:ne(n)?"":"."+A+"` "+K+ie(typeof n)+I+$,!t)for(let o=0,i=n.length;o<i;o++){
const i=n[o]
if(ne(i))for(let n=0,r=i.length;n<r;n++){const r=i[n]
if(t=null===r?H+W+ue:ne(r)?G+W+ue:typeof r!==s?K+ie(typeof r)+I+ue:oe(r)?"":ae(r)+I+"known",t){
t="."+e+"["+o+"]["+n+"]` "+t
break e}}else if(t=null===i?H+W+ue:typeof i!==s?K+ie(typeof i)+I+ue:oe(i)?"":ae(i)+I+"known",t){t="."+e+"["+o+"]` "+t
break e}}}if(t)return D+"schema."+n+t}}}
function je(e,t,n=X){const o=n.type,i=typeof e
if(i===o)return!1
const r=ee(n.begin,t),f=x in n,l=f&&ne(o)
if(f&&l){const e=be(x,o,!0)
if(e)return r+e}else{const e=f?null===o?H+W+ue:typeof o!==s?K+ie(typeof o)+I+ue:oe(o)?"":ie(ce(o))+I+"known":L+"set"
if(e)return r+D+x+"` "+e}if(!l)return r+(null===e?H+W:ne(e)?G+W:K+ie(i)+I)+ie(o)
if(!ne(e))return r+T
const u=o.length,c=e.length
if(!u)return!1
for(let i=0;i<c;i++){const r=e[i]
let f=!1
for(let e=0;e<u;e++)if(typeof r===o[e]){f=!0
break}if(!f){const e="["+i+"]"
return ee(n.begin,t&&t+e,"`"+e+U+$+"` ")+(null===r?H+W:ne(r)?G+W:K+ie(typeof r)+I)+ie(o.join(":"))}}return!1}
function xe(e,t,n=X){let i=je(e,t,{...n,type:o})
if(i)return i
const r=n.open,f=void 0!==r,s=n.schema,l=void 0!==s
return i=de(m,r,f)||ke(s,l),i?ee(n.begin,t,"A class ")+i:ge(e,n,l,w,t)}function Ae(e,t,n=X){
if(!ne(e))return ee(n.begin,t)+(null===e?H:K+ie(typeof e))+S
const l=e.length,u=n.is,c=void 0!==u,p=n.least,g=void 0!==p,b=n.most,h=void 0!==b,d=n.pass,m=void 0!==d,j=n.types,x=void 0!==j,O=he(a,u,c,[])||ve(y,p,g,!1,!0)||ve(v,b,h,!1,!0)||de(k,d,m)||be(A,j,x)||(g&&h&&p>b?D+"least` > `options.most`":g&&p>l?"has length "+l+" < `options."+y+"` "+p:h&&b<l?"has length "+l+" > `options."+v+"` "+b:"")
return O?ee(n.begin,t,"An array ")+O:function(e,t,n,l,u,c){const{begin:a,is:p,pass:y,types:g}=n,b=u&&g.length
for(let u=0;u<t;u++){const t=e[u],h=typeof t,d="["+u+"]"
if(!l||!te(p,t)){if(l&&!b)return ee(a,c&&c+d,"`"+d+U+$+"` ")+P+B+pe(p)
if(b&&-1===g.indexOf(h))return ee(a,c&&c+d,"`"+d+U+$+"` ")+E+(null===t?i:ne(t)?$:F+ie(h))+","+I+(1===g.length?C+ie(g[0]):z+U+C+ae(g.join(":")))
if(b&&h===f){const e=null===t?i:ne(t)?$:""
if(e)return ee(a,c&&c+d,"`"+d+U+$+"` ")+E+e+","+V+f}if(y){const e=c?c+"["+u+"]":d+U+$
let i
switch(h){case o:if(i=xe(t,e,n),i)return i
break
case r:if(i=Y(t,e,n),i)return i
break
case f:if(null===t)break
if(Array.isArray(t))break
if(i=Z(t,e,n),i)return i
break
case s:if(i=_(t,e,n),i)return i}}}}return!1}(e,l,n,c,x,t)}function Oe(e,t,o=X){let i=je(e,t,{...o,type:n})
if(i)return i
const r=o.is,f=void 0!==r
return i=he(a,r,f,[n])||(f&&-1==r.indexOf(e)?P+B+ae(r.join(":")):""),!!i&&ee(o.begin,t)+i}function $e(e,t,n=X){
let l=null===e?H+V+f:ne(e)?G+V+f:typeof e!==f?K+ie(typeof e)+I+le:""
if(l)return ee(n.begin,t)+l
const u=Object.entries(e),c=u.length,a=n.key,g=void 0!==a,b=n.least,h=void 0!==b,d=n.most,m=void 0!==d,j=n.pass,x=void 0!==j,O=n.types,w=void 0!==O
return l=me(p,a,g)||ve(y,b,h,!1,!0)||ve(v,d,m,!1,!0)||de(k,j,x)||be(A,O,w)||(h&&m&&b>d?D+"least` > `options.most`":h&&b>c?"has length "+c+" < `options."+y+"` "+b:m&&d<c?"has length "+c+" > `options."+v+"` "+d:""),
l?ee(n.begin,t,"A dictionary ")+l:function(e,t,n,l,u,c){const{begin:a,key:p,pass:y,types:g}=n,b=u&&g.length
for(let u=0;u<t;u++){const[t,h]=e[u],d=typeof h
if(l&&!p.test(t)){const e=ce(t)
return ee(a,c&&c+"."+e,"`"+e+U+N+"` ")+"fails "+(p instanceof RegExp?p:"custom test "+o)}
if(b&&-1===g.indexOf(d))return ee(a,c&&c+"."+t,"`"+t+U+N+"` ")+E+(null===h?i:ne(h)?$:F+ie(d))+","+I+(1===g.length?C+ie(g[0]):z+U+C+ae(g.join(":")))
if(y){const e=c?c+"."+t:t+U+N
let i
switch(d){case o:if(i=xe(h,e,n),i)return i
break
case r:if(i=Y(h,e,n),i)return i
break
case f:if(null===h)break
if(Array.isArray(h))break
if(i=Z(h,e,n),i)return i
break
case s:if(i=_(h,e,n),i)return i}}}return!1}(u,c,n,g,w,t)}function we(e,t,n=X){
return null!==e&&ee(n.begin,t)+(ne(e)?G:K+ie(typeof e))+I+i}function Ne(e=X,...t){const n=[]
return[n,...t.map((t=>Re(e,t,n)))]}const Re=(e,t,n)=>(o,i,r)=>{const f=t(o,i,{...e,...r})
return f&&n.push(f),f}
export{Ae as aintaArray,Oe as aintaBoolean,$e as aintaDictionary,xe as aintaFunction,we as aintaNull,Y as aintaNumber,Z as aintaObject,_ as aintaString,je as aintaType,Ne as default}
