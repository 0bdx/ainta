/**
 * https://www.npmjs.com/package/@0bdx/ainta
 * @version 0.0.17
 * @license Copyright (c) 2023 0bdx <0@0bdx.com> (0bdx.com)
 * SPDX-License-Identifier: MIT
 */
const e="array",t="bigint",n="boolean",o="function",i="null",r="number",f="object",s="string",l="symbol",u="undefined",c="gte",a="is",p="key",y="least",g="lte",b="max",h="min",d="mod",m="most",v="open",k="pass",j="rx",x="type",A="types",O="an ",$=O+e,w="a class",N="a dictionary",R=O+f,E=a+" ",z="one",I=" not ",U=" of ",q=" `options.",B="the"+q+A+"` ",C="cannot be validated,"+q,D=x+" ",F=E+$,G=E+i,H=E+"the special `NaN` value",J=E+D,K=a+I,L=" "+K,M=K+"in ",P=L+"in ",Q=I+O+e,S=K+O+e,T=I+"a regular ",V=I+D,W={}
function X(e,t,n=W){let o=ke(e,t,{...n,type:r})
if(o)return o
const i=n.gte,f=void 0!==i,s=n.is,l=void 0!==s,u=n.lte,p=void 0!==u,y=n.mod,b=void 0!==y
return o=de(c,i,f)||be(a,s,l,[r])||de(g,u,p)||de(d,y,b,!0)||(f&&p&&i>u?C+"gte` > `options.lte`":isNaN(e)?H+T+r:l&&-1==s.indexOf(e)?e+P+ce(s.join(":")):f&&i>e?e+L+c+" "+i:p&&u<e?e+L+g+" "+u:b&&e%y?e+" is not divisible by "+y:""),
!!o&&_(n.begin,t)+o}function Y(e,t,n=W){let i=null===e?G+T+f:te(e)?F+T+f:typeof e!==f?J+oe(typeof e)+I+se:""
if(i)return _(n.begin,t)+i
const r=n.is,s=void 0!==r,l=n.open,u=void 0!==l,c=n.schema,p=void 0!==c
return i=be(a,r,s,[f,o])||he(v,l,u)||ve(c,p)||(s&&!ee(r,e)?M+ae(r):""),i?_(n.begin,t,"An object ")+i:ye(e,n,p,R,t)}
function Z(e,t,n=W){let i=ke(e,t,{...n,type:s})
if(i)return i
const r=n.is,f=void 0!==r,l=n.max,u=void 0!==l,c=n.min,p=void 0!==c,y=n.rx,g=void 0!==y
return i=be(a,r,f,[s])||de(b,l,u,!1,!0)||de(h,c,p,!1,!0)||me(j,y,g)||(u&&p&&l<c?C+b+"` <"+q+h+"`":f&&-1==r.indexOf(e)?ce(e)+P+ce(r.join(":")):u&&l<e.length?ce(e)+L+b+" "+l:p&&c>e.length?ce(e)+L+h+" "+c:g&&!y.test(e)?ce(e)+" fails "+(y instanceof RegExp?y:"custom test "+o):""),
!!i&&_(n.begin,t)+i}const _=(e,t,n)=>(e?e+": ":"")+(t?`\`${t}\` `:n||"A value "),ee=(e,t)=>{
for(let n=0,i=e.length;n<i;n++){const i=e[n]
if(t===i||typeof i===o&&t instanceof i)return!0}return!1
},te=Array.isArray,ne=e=>!te(e)&&-1!==[t,n,o,r,f,s,l,u].indexOf(e),oe=e=>"'"+(Array.isArray(e)?e.join(":"):e)+"'",ie=oe(n),re=oe(r),fe=oe(o),se=oe(f),le=oe(s),ue=e=>{
const t=te(e)?e.join(":"):e
return encodeURI(t.length<=32?t:`${t.slice(0,21)}...${t.slice(-8)}`).replace(/%20/g," ")
},ce=e=>oe(ue(e)),ae=e=>ce(e.map((e=>null===e?i:void 0===e?u:typeof e===o?e.name:typeof e===f?e.constructor.name:e)).join(":")),pe=e=>oe(e.map((e=>te(e)?`[${e.join(":")}]`:e)).join(":")),ye=(e,t,n,o,r)=>{
const{begin:f,open:s,schema:l}=t
let c
if(n)for(const n in l){const{types:f}=l[n],s=e[n],a=typeof s,p=f&&f.filter(te)
if(f&&f.length)if(p.length&&te(s)){for(const e of p)if(0===e.length)continue
const e=s.length
let u,a=0,y=!1
e:for(const t of p){for(a=0;a<e;a++){u=s[a]
let e=!1
for(let n=0,o=t.length;n<o;n++)if(typeof u===t[n]){e=!0
break}if(!e)continue e}y=!0
break e}if(!y){const e=typeof u
c=[`${n}[${a}]`,E+(null===u?i:te(u)?$:D+oe(e))+","+I+(1===p.length?B:z+U+B)+pe(f)]
break}const g=r?r+"."+n:n+U+o
for(let o=0;o<e;o++){const e=s[o],i={number:X,object:Y,string:Z}[typeof e]
if(i){const r=i(e,`${g}[${o}]`,{begin:t.begin,...l[n]})
if(r)return r}}}else{if(-1===f.indexOf(a)){c=[n,E+(null===s?i:te(s)?$:D+oe(a))+","+I+(1===f.length?B:z+U+B)+pe(f)]
break}{const e={function:je,number:X,object:Y,string:Z}[a]
if(e){const i=e(s,r?r+"."+n:n+U+o,{begin:t.begin,...l[n]})
if(i)return i}}}else if(a===u){c=[n,E+"missing"]
break}}if(!s)for(const t in e)if(!l||!l[t]){c=[t,"is unexpected"]
break}return!!c&&_(f,r&&r+"."+c[0],"`"+c[0]+U+o+"` ")+c[1]},ge=(e,t,n)=>{if(n){
const n=null===t?G+Q:te(t)?"":J+oe(typeof t)+Q
if(n)return C+e+"` "+n
for(let n=0,o=t.length;n<o;n++){
const o=t[n],i=null===o?G+V+le:te(o)?F+V+le:typeof o!==s?J+oe(typeof o)+I+le:ne(o)?"":ce(o)+I+"known"
if(i)return C+e+"["+n+"]` "+i}}},be=(e,t,n,o)=>{if(n){const n=null===t?G+Q:te(t)?t.length?"":"is empty":J+oe(typeof t)+Q
if(n)return C+e+"` "+n
let i=!1
const r=o.length
if(1===r)for(let e=0,n=t.length;e<n;e++){if(typeof t[e]===o[0]){i=!0
break}}else e:for(let e=0,n=t.length;e<n;e++){const n=typeof t[e]
for(let e=0;e<r;e++)if(n===o[e]){i=!0
break e}}if(!i)return C+e+"` contains nothing of type '"+o.join("' or '")+"'"}},he=(e,t,o)=>{if(o){
const o=null===t?G+V+ie:te(t)?F+V+ie:typeof t!==n?J+oe(typeof t)+I+ie:""
if(o)return C+e+"` "+o}},de=(e,t,n,o,i)=>{if(n){
const n=null===t?G+V+re:te(t)?F+V+re:typeof t!==r?J+oe(typeof t)+I+re:isNaN(t)?H:o&&!t?"is zero":i&&t<0?"is negative":""
if(n)return C+e+"` "+n}},me=(e,t,n)=>{if(n){let n=null===t?G+V+se:te(t)?F+V+se:typeof t!==f?J+oe(typeof t)+I+se:""
if(n)return C+e+"` "+n
const i=t.test
if(n=null===i?G+V+fe:te(i)?F+V+fe:typeof i!==o?J+oe(typeof i)+I+fe:"",n)return C+e+".test` "+n}},ve=(e,t)=>{if(t){
let t=null===e?G+V+se:te(e)?F+V+se:typeof e!==f?J+oe(typeof e)+I+se:""
if(t)return C+"schema` "+t
for(const n in e){const o=e[n]
if(t=null===o?"` "+G+V+se:te(o)?"` "+F+V+se:typeof o!==f?"` "+J+oe(typeof o)+I+se:"",!t)e:for(const e in o){const n=o[e]
if(e===A)if(t=null===n?"."+A+"` "+G+I+$:te(n)?"":"."+A+"` "+J+oe(typeof n)+I+$,!t)for(let o=0,i=n.length;o<i;o++){
const i=n[o]
if(te(i))for(let n=0,r=i.length;n<r;n++){const r=i[n]
if(t=null===r?G+V+le:te(r)?F+V+le:typeof r!==s?J+oe(typeof r)+I+le:ne(r)?"":ce(r)+I+"known",t){
t="."+e+"["+o+"]["+n+"]` "+t
break e}}else if(t=null===i?G+V+le:typeof i!==s?J+oe(typeof i)+I+le:ne(i)?"":ce(i)+I+"known",t){t="."+e+"["+o+"]` "+t
break e}}}if(t)return C+"schema."+n+t}}}
function ke(e,t,n=W){const o=n.type,i=typeof e
if(i===o)return!1
const r=_(n.begin,t),f=x in n,l=f&&te(o)
if(f&&l){const e=ge(x,o,!0)
if(e)return r+e}else{const e=f?null===o?G+V+le:typeof o!==s?J+oe(typeof o)+I+le:ne(o)?"":oe(ue(o))+I+"known":K+"set"
if(e)return r+C+x+"` "+e}if(!l)return r+(null===e?G+V:te(e)?F+V:J+oe(i)+I)+oe(o)
if(!te(e))return r+S
const u=o.length,c=e.length
if(!u)return!1
for(let i=0;i<c;i++){const r=e[i]
let f=!1
for(let e=0;e<u;e++)if(typeof r===o[e]){f=!0
break}if(!f){const e="["+i+"]"
return _(n.begin,t&&t+e,"`"+e+U+$+"` ")+(null===r?G+V:te(r)?F+V:J+oe(typeof r)+I)+oe(o.join(":"))}}return!1}
function je(e,t,n=W){let i=ke(e,t,{...n,type:o})
if(i)return i
const r=n.open,f=void 0!==r,s=n.schema,l=void 0!==s
return i=he(v,r,f)||ve(s,l),i?_(n.begin,t,"A class ")+i:ye(e,n,l,w,t)}function xe(e,t,n=W){
if(!te(e))return _(n.begin,t)+(null===e?G:J+oe(typeof e))+Q
const l=e.length,u=n.least,c=void 0!==u,a=n.most,p=void 0!==a,g=n.pass,b=void 0!==g,h=n.types,d=void 0!==h,v=de(y,u,c,!1,!0)||de(m,a,p,!1,!0)||he(k,g,b)||ge(A,h,d)||(c&&p&&u>a?C+"least` > `options.most`":c&&u>l?"has length "+l+" < `options."+y+"` "+u:p&&a<l?"has length "+l+" > `options."+m+"` "+a:"")
return v?_(n.begin,t,"An array ")+v:function(e,t,n,l,u){const{begin:c,pass:a,types:p}=n,y=l&&p.length
for(let l=0;l<t;l++){const t=e[l],g=typeof t,b="["+l+"]"
if(y&&-1===p.indexOf(g))return _(c,u&&u+b,"`"+b+U+$+"` ")+E+(null===t?i:te(t)?$:D+oe(g))+","+I+(1===p.length?B+oe(p[0]):z+U+B+ce(p.join(":")))
if(y&&g===f){const e=null===t?i:te(t)?$:""
if(e)return _(c,u&&u+b,"`"+b+U+$+"` ")+E+e+","+T+f}if(a){const e=u?u+"["+l+"]":b+U+$
let i
switch(g){case o:if(i=je(t,e,n),i)return i
break
case r:if(i=X(t,e,n),i)return i
break
case f:if(null===t)break
if(Array.isArray(t))break
if(i=Y(t,e,n),i)return i
break
case s:if(i=Z(t,e,n),i)return i}}}return!1}(e,l,n,d,t)}function Ae(e,t,o=W){let i=ke(e,t,{...o,type:n})
if(i)return i
const r=o.is,f=void 0!==r
return i=be(a,r,f,[n])||(f&&-1==r.indexOf(e)?e+P+ce(r.join(":")):""),!!i&&_(o.begin,t)+i}function Oe(e,t,n=W){
let l=null===e?G+T+f:te(e)?F+T+f:typeof e!==f?J+oe(typeof e)+I+se:""
if(l)return _(n.begin,t)+l
const u=Object.entries(e),c=u.length,a=n.key,g=void 0!==a,b=n.least,h=void 0!==b,d=n.most,v=void 0!==d,j=n.pass,x=void 0!==j,O=n.types,w=void 0!==O
return l=me(p,a,g)||de(y,b,h,!1,!0)||de(m,d,v,!1,!0)||he(k,j,x)||ge(A,O,w)||(h&&v&&b>d?C+"least` > `options.most`":h&&b>c?"has length "+c+" < `options."+y+"` "+b:v&&d<c?"has length "+c+" > `options."+m+"` "+d:""),
l?_(n.begin,t,"A dictionary ")+l:function(e,t,n,l,u,c){const{begin:a,key:p,pass:y,types:g}=n,b=u&&g.length
for(let u=0;u<t;u++){const[t,h]=e[u],d=typeof h
if(l&&!p.test(t)){const e=ue(t)
return _(a,c&&c+"."+e,"`"+e+U+N+"` ")+"fails "+(p instanceof RegExp?p:"custom test "+o)}
if(b&&-1===g.indexOf(d))return _(a,c&&c+"."+t,"`"+t+U+N+"` ")+E+(null===h?i:te(h)?$:D+oe(d))+","+I+(1===g.length?B+oe(g[0]):z+U+B+ce(g.join(":")))
if(y){const e=c?c+"."+t:t+U+N
let i
switch(d){case o:if(i=je(h,e,n),i)return i
break
case r:if(i=X(h,e,n),i)return i
break
case f:if(null===h)break
if(Array.isArray(h))break
if(i=Y(h,e,n),i)return i
break
case s:if(i=Z(h,e,n),i)return i}}}return!1}(u,c,n,g,w,t)}function $e(e,t,n=W){
return null!==e&&_(n.begin,t)+(te(e)?F:J+oe(typeof e))+I+i}function we(e=W,...t){const n=[]
return[n,...t.map((t=>Ne(e,t,n)))]}const Ne=(e,t,n)=>(o,i,r)=>{const f=t(o,i,{...e,...r})
return f&&n.push(f),f}
export{xe as aintaArray,Ae as aintaBoolean,Oe as aintaDictionary,je as aintaFunction,$e as aintaNull,X as aintaNumber,Y as aintaObject,Z as aintaString,ke as aintaType,we as default}
